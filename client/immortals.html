<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <link rel="icon" href="./favicon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta name="description" content="Web site created using create-react-app"/>
    <link rel="stylesheet" href="./index.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css" integrity="sha512-HK5fgLBL+xu6dm/Ii3z4xhlSUyZgTT9tuc/hSrtw6uzJOvgRr2a9jyxxT1ely+B+xFAmJKVSTbpM/CuL7qxO8w==" crossorigin="anonymous" />
    <script src="https://embed.twitch.tv/embed/v1.js"></script>
    <title>Madden RedZone</title>

    <script data-ad-client="ca-pub-4424826598376439" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
</head>
<body>
    <div id="application-container">
        <div class="application-logo">
            <img src="./logo.png" alt="logo" />
            <select id="display">
                <option value="180">Small</option>
                <option value="360" selected="selected">Medium</option>
                <option value="720">Large</option>
            </select>
        </div>

        <div class="application-streams" >
            <div class="twitch-row" id="sortable">
                <div class="twitch-container" >
                    <div class="twitch-user">junniboy01<div class="drag-to-reoder"><i class="fas fa-arrows-alt"></i></div></div>
                    <div id="arjun-twitch"></div>
                </div>
                <div class="twitch-container">
                    <div class="twitch-user">dylp123<div class="drag-to-reoder"><i class="fas fa-arrows-alt"></i></div></div>
                    <div id="dylan-twitch"></div>
                </div>
                <div class="twitch-container">
                    <div class="twitch-user">chig32<div class="drag-to-reoder"><i class="fas fa-arrows-alt"></i></div></div>
                    <div id="chirag-twitch"></div>
                </div>
                <div class="twitch-container">
                    <div class="twitch-user">coreyfra<div class="drag-to-reoder"><i class="fas fa-arrows-alt"></i></div></div>
                    <div id="corey-twitch"></div>
                </div>
                <div class="twitch-container">
                    <div class="twitch-user">siddyk86<div class="drag-to-reoder"><i class="fas fa-arrows-alt"></i></div></div>
                    <div id="sid-twitch"></div>
                </div>
                <div class="twitch-container">
                    <div class="twitch-user">ncarzon<div class="drag-to-reoder"><i class="fas fa-arrows-alt"></i></div></div>
                    <div id="ncarzon-twitch"></div>
                </div>
                <div class="twitch-container">
                    <div class="twitch-user">roryvosullivan<div class="drag-to-reoder"><i class="fas fa-arrows-alt"></i></div></div>
                    <div id="roryvosullivan"></div>
                </div>
                <div class="twitch-container">
                    <div class="twitch-user">sahilchhugani<div class="drag-to-reoder"><i class="fas fa-arrows-alt"></i></div></div>
                    <div id="sahilchhugani"></div>
                </div>
                <div class="twitch-container">
                    <div class="twitch-user">vjets109<div class="drag-to-reoder"><i class="fas fa-arrows-alt"></i></div></div>
                    <div id="vjets109"></div>
                </div>
                <div class="twitch-container">
                    <div class="twitch-user">theraiderfan16<div class="drag-to-reoder"><i class="fas fa-arrows-alt"></i></div></div>
                    <div id="theraiderfan16"></div>
                </div>
                <div class="twitch-container">
                    <div class="twitch-user">lammmo21<div class="drag-to-reoder"><i class="fas fa-arrows-alt"></i></div></div>
                    <div id="lammmo21"></div>
                </div>
                <div class="twitch-container">
                    <div class="twitch-user">djyergeau<div class="drag-to-reoder"><i class="fas fa-arrows-alt"></i></div></div>
                    <div id="djyergeau"></div>
                </div>
                <div class="twitch-container">
                    <div class="twitch-user">beatbeatbeat123<div class="drag-to-reoder"><i class="fas fa-arrows-alt"></i></div></div>
                    <div id="beatbeatbeat123"></div>
                </div>
                <div class="twitch-container">
                    <div class="twitch-user">rgarcia269<div class="drag-to-reoder"><i class="fas fa-arrows-alt"></i></div></div>
                    <div id="rgarcia269"></div>
                </div>
            </div>
        </div>

    </div>

    <script type="text/javascript">
        var moved = {}
        $( function() {
            $( "#sortable" ).sortable();
        } );
        function autoSort(name) {
            try {
                if (moved[name]) return true
                const items = document.getElementsByClassName('twitch-container')
                for (let i in items) {
                    if (items[i] && items[i].innerHTML && items[i].innerHTML.includes(name)) {
                        const parent = items[i].parentNode;
                        const detatchedItem = parent.removeChild(items[i]);
                        parent.insertBefore(detatchedItem, items[0]);
                        moved[name] = true
                    }
                }
            } catch (e) {return true}
        }
        function embedTwitch(height) {
            new Twitch.Embed("arjun-twitch", {
                width: '100%',
                height: height,
                channel: "junniboy01",
                layout: "video",
                muted: true
            });
            new Twitch.Embed("dylan-twitch", {
                width: '100%',
                height: height,
                channel: "dylp123",
                layout: "video",
                muted: true
            }).addEventListener(Twitch.Embed.VIDEO_PLAY, function() {
                autoSort('dylan-twitch')
            });
            new Twitch.Embed("chirag-twitch", {
                width: '100%',
                height: height,
                channel: "chig32",
                layout: "video",
                muted: true
            }).addEventListener(Twitch.Embed.VIDEO_PLAY, function() {
                autoSort('chirag-twitch')
            });
            new Twitch.Embed("corey-twitch", {
                width: '100%',
                height: height,
                channel: "coreyfra",
                layout: "video",
                muted: true
            }).addEventListener(Twitch.Embed.VIDEO_PLAY, function() {
                autoSort('corey-twitch')
            });
            new Twitch.Embed("sid-twitch", {
                width: '100%',
                height: height,
                channel: "siddyk86",
                layout: "video",
                muted: true
            }).addEventListener(Twitch.Embed.VIDEO_PLAY, function() {
                autoSort('sid-twitch')
            });
            new Twitch.Embed("ncarzon-twitch", {
                width: '100%',
                height: height,
                channel: "ncarzon",
                layout: "video",
                muted: true
            }).addEventListener(Twitch.Embed.VIDEO_PLAY, function() {
                autoSort('ncarzon-twitch')
            });
            new Twitch.Embed("roryvosullivan", {
                width: '100%',
                height: height,
                channel: "roryvosullivan",
                layout: "video",
                muted: true
            }).addEventListener(Twitch.Embed.VIDEO_PLAY, function() {
                autoSort('roryvosullivan')
            });
            new Twitch.Embed("sahilchhugani", {
                width: '100%',
                height: height,
                channel: "sahilchhugani",
                layout: "video",
                muted: true
            }).addEventListener(Twitch.Embed.VIDEO_PLAY, function() {
                autoSort('sahilchhugani')
            });
            new Twitch.Embed("vjets109", {
                width: '100%',
                height: height,
                channel: "vjets109",
                layout: "video",
                muted: true
            }).addEventListener(Twitch.Embed.VIDEO_PLAY, function() {
                autoSort('vjets109')
            });
            new Twitch.Embed("theraiderfan16", {
                width: '100%',
                height: height,
                channel: "theraiderfan16",
                layout: "video",
                muted: true
            }).addEventListener(Twitch.Embed.VIDEO_PLAY, function() {
                autoSort('theraiderfan16')
            });
            new Twitch.Embed("lammmo21", {
                width: '100%',
                height: height,
                channel: "lammmo21",
                layout: "video",
                muted: true
            }).addEventListener(Twitch.Embed.VIDEO_PLAY, function() {
                autoSort('lammmo21')
            });
            new Twitch.Embed("djyergeau", {
                width: '100%',
                height: height,
                channel: "djyergeau",
                layout: "video",
                muted: true
            }).addEventListener(Twitch.Embed.VIDEO_PLAY, function() {
                autoSort('djyergeau')
            });
            new Twitch.Embed("beatbeatbeat123", {
                width: '100%',
                height: height,
                channel: "beatbeatbeat123",
                layout: "video",
                muted: true
            }).addEventListener(Twitch.Embed.VIDEO_PLAY, function() {
                autoSort('beatbeatbeat123')
            });
            new Twitch.Embed("rgarcia269", {
                width: '100%',
                height: height,
                channel: "rgarcia269",
                layout: "video",
                muted: true
            }).addEventListener(Twitch.Embed.VIDEO_PLAY, function() {
                autoSort('rgarcia269')
            });
        }
        embedTwitch(360);
        $( "#display" ).change(function() {
            $("#arjun-twitch").html("");
            $("#dylan-twitch").html("");
            $("#chirag-twitch").html("");
            $("#corey-twitch").html("");
            $("#sid-twitch").html("");
            $("#ncarzon-twitch").html("");
            $("#roryvosullivan").html("");
            $("#sahilchhugani").html("");
            $("#vjets109").html("");
            $("#theraiderfan16").html("");
            $("#lammmo21").html("");
            $("#djyergeau").html("");
            $("#beatbeatbeat123").html("");
            $("#rgarcia269").html("");
            embedTwitch(this.value);
        });
    </script>

</body>
</html>
